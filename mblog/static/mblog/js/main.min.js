"use strict";function getCookie(n){var u=null,i,t,r;if(document.cookie&&document.cookie!="")for(i=document.cookie.split(";"),t=0;t<i.length;t++)if(r=jQuery.trim(i[t]),r.substring(0,n.length+1)==n+"="){u=decodeURIComponent(r.substring(n.length+1));break}return u}var app=new Vue({data:{show:!0,error:{status:!1,message:""},post_id:0,previous_id:0,next_id:0,post:{},csrf_token:getCookie("csrftoken")},methods:{add_comment:function(){var t=this,n={csrfmiddlewaretoken:getCookie("csrftoken"),author:$("input[name=author]").val(),content:$("input[name=content]").val()};$.post("/api/comment/"+this.post_id,n,function(i){i.success&&(t.post.comments.push({author:n.author,content:n.content}),$("input[name=author]").val(""),$("input[name=content]").val(""))},"JSON");this.csrf_token=getCookie("csrftoken")},jump:function(n){var t;this.show=!1;n.target.id=="pageup"?t=this.previous_id:n.target.id=="pagedown"&&(t=this.next_id);$.getJSON("/api/"+t,function(n){app.show=!0;app.post_id=n.post.id;app.post=n.post;app.previous_id=n.previous_id;app.next_id=n.next_id;history.pushState({},"","/"+t)})}}});$(document).ready(function(){var n=["blue","green","yellow","purple"],i=n[Math.floor(Math.random()*n.length)],t;$("body").addClass("bg-"+i);t=window.location.pathname.split("/")[1];$.getJSON("/api/"+t,function(n,t){t=="success"&&n.success?(app.post_id=n.post.id,app.post=n.post,app.previous_id=n.previous_id,app.next_id=n.next_id):(app.error.status=!0,app.error.message=n.reason);app.$mount("#content_bg")})})