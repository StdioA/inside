"use strict";function getCookie(n){var u=null,i,t,r;if(document.cookie&&document.cookie!="")for(i=document.cookie.split(";"),t=0;t<i.length;t++)if(r=jQuery.trim(i[t]),r.substring(0,n.length+1)==n+"="){u=decodeURIComponent(r.substring(n.length+1));break}return u}var app=new Vue({data:{show:!0,post_id:0,post:{},csrf_token:getCookie("csrftoken")},methods:{add_comment:function(){var t=this,n={csrfmiddlewaretoken:$("input[name=csrfmiddlewaretoken]").val(),author:$("input[name=author]").val(),content:$("input[name=content]").val()};$.post("/api/"+this.post_id+"/comment",n,function(i){i.success&&(t.post.comments.push({author:n.author,content:n.content}),$("input[name=author]").val(""),$("input[name=content]").val(""))},"JSON");this.csrf_token=getCookie("csrftoken")},jump:function(n){var t;this.show=!1;n.target.id=="pageup"?t=this.post.previous_id:n.target.id=="pagedown"&&(t=this.post.next_id);$.getJSON("/api/"+t+"/",function(n){app.show=!0;app.post_id=t;app.post=n;history.pushState({},"","/"+t)})}}});$(document).ready(function(){var n=window.location.pathname.split("/")[1];$.getJSON("/api/"+n+"/",function(t){app.post_id=n;app.post=t;app.$mount("#content_bg")})})