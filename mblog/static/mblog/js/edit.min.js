"use strict";var getCSRFToken=function(){return document.querySelector("input[name=csrfmiddlewaretoken]").value};!function(){var e=function(e){var t=$("#content_bg").attr("post-id"),n="/api/post/"+t,o=e.target,r=new Headers({"Content-Type":"application/json","X-CSRFToken":getCSRFToken()});if("update"==o.id){var a={content:$("textarea").first().val(),exist:document.getElementsByName("exist")[0].checked};fetch(n,{method:"PUT",body:JSON.stringify(a),headers:r}).then(function(e){return e.json()}).then(function(e){$("#update").addClass("green"),setTimeout(function(){$("#update").removeClass("green")},1e3)})}else"delete"==o.id&&fetch(n,{method:"DELETE",headers:r}).then(function(e){return e.json()}).then(function(e){$("#delete").addClass("green"),setTimeout(function(){$("#delete").removeClass("green")},1e3)})};document.querySelector("#form button#update").addEventListener("click",e),document.querySelector("#form button#delete").addEventListener("click",e),document.querySelector("#comment button").addEventListener("click",function(e){var t=$("#content_bg").attr("post-id"),n="/api/comment/"+t;fetch(n,{method:"POST",body:JSON.stringify({author:$("input[name=author]").val(),content:$("input[name=content]").val()}),headers:new Headers({"Content-Type":"application/json","X-CSRFToken":getCSRFToken()})}).then(function(e){return e.json()}).then(function(e){1==e.success&&($("#comment button").addClass("green"),setTimeout(function(){$("#comment button").removeClass("green")},1e3))})})}();